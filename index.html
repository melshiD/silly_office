<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Silly Office</title>
    <!-- import alpine and rivet  Still deciphering why two rivet sources-->
    <script src="//unpkg.com/alpinejs" defer></script>
    <link href="https://unpkg.com/rivet-core@2.0.0-alpha.3/css/rivet.min.css" rel="stylesheet">
    <link href="https://unpkg.com/rivet-core@2.0.0/css/rivet.min.css" rel="stylesheet">
    <link href="/css/styles.css" rel="stylesheet">
    <link href="/css/microsite.css" rel="stylesheet">
    <style>
        *{
            --background-start-pos: -460px;
            --gradient-one: linear-gradient(310deg, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 1) 24%, rgba(218, 163, 163, 1) 52%, rgba(255, 255, 255, 1) 61%, rgba(153, 0, 0, 1) 68%, rgba(153, 0, 0, 1) 71%, rgba(224, 179, 179, 1) 80%, rgba(255, 255, 255, 1) 90%, rgba(255, 255, 255, 1) 100%);
            --gradient-two: linear-gradient(306deg, rgba(255,255,255,1) 0%, rgba(255,255,255,1) 24%, rgba(218,163,163,1) 60%, rgba(255,255,255,1) 61%, rgba(153,0,0,1) 62%, rgba(153,0,0,1) 71%, rgba(224,179,179,1) 72%, rgba(255,255,255,1) 72%, rgba(255,255,255,1) 100%);
        }
        .hidden{
            display: none;
        }
        .rvt-profile__img{
            position: relative;
            left: 40px;
            animation: scaleSilly 2s forwards ease-in-out;
        }
        @keyframes scaleSilly {
            from{
                transform: scale(100%);
            }
            to{
                transform: scale(85%) rotateY(360deg) rotateZ(360deg);
            }
        }
        .flair-grad_red {
            background: var(--gradient-two);
            background-size: 400%;
            background-position: var(--background-start-pos);
            /* animation: move 2s forwards ease-in-out; */
        }
        /* .flair-grad_red .animate-background{
            background: linear-gradient(310deg, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 1) 24%, rgba(218, 163, 163, 1) 52%, rgba(255, 255, 255, 1) 61%, rgba(153, 0, 0, 1) 68%, rgba(153, 0, 0, 1) 71%, rgba(224, 179, 179, 1) 80%, rgba(255, 255, 255, 1) 90%, rgba(255, 255, 255, 1) 100%);
            background-size: 400%;
            background-position: -400px;
            animation: move 2s forwards ease-in-out;
        } */

        @keyframes move {
            from {
                background-position: var(--background-start-pos);
            }

            to {
                background-position: -200px;
            }
        }
        #header.rvt-header-wrapper{
            position: sticky;
        }
    </style>
</head>

<body>
    <header class="rvt-header-wrapper" id="header">
    
        <!-- **********************************************************************
            "Skip to main content" link for keyboard users
        *********************************************************************** -->
    
        <a class="rvt-header-wrapper__skip-link" href="#main-content">Skip to main content</a>
        
        <!-- **********************************************************************
            Global header area
        *********************************************************************** -->
        
        <div class="rvt-header-global">
            <div class="rvt-container-lg">
                <div class="rvt-header-global__inner">
                    <div class="rvt-header-global__logo-slot">
                        <a class="rvt-lockup" href="#0">
                            
                            <!-- **************************************************
                                Trident logo
                            *************************************************** -->
    
                            <div class="rvt-lockup__tab">
                                <svg xmlns="http://www.w3.org/2000/svg" class="rvt-lockup__trident" viewBox="0 0 28 34">
                                    <path fill="currentColor" d="M-3.34344e-05 4.70897H8.83308V7.174H7.1897V21.1426H10.6134V2.72321H8.83308V0.121224H18.214V2.65476H16.2283V21.1426H19.7889V7.174H18.214V4.64047H27.0471V7.174H25.0614V23.6761L21.7746 26.8944H16.2967V30.455H18.214V33.8787H8.76463V30.592H10.6819V26.8259H5.20403L1.91726 23.6077V7.174H-3.34344e-05V4.70897Z"></path>
                                </svg>
                            </div>
                            
                            <!-- **************************************************
                                Website or application title 
                            *************************************************** -->
    
                            <div class="rvt-lockup__body">
                                <span class="rvt-lockup__title">Rivet Design System</span>
                                <span class="rvt-lockup__subtitle">Indiana University</span>
                            </div>
                        </a>
                    </div>
                    <div class="rvt-header-global__controls">
                        <div data-rvt-disclosure="menu" data-rvt-close-click-outside>
                            <button aria-expanded="false" class="rvt-global-toggle rvt-global-toggle--menu rvt-hide-lg-up" data-rvt-disclosure-toggle="menu">
                                <span class="rvt-sr-only">Menu</span>
                                <svg xmlns="http://www.w3.org/2000/svg" class="rvt-global-toggle__open" viewBox="0 0 16 16">
                                    <g fill="currentColor">
                                        <path d="M15,3H1A1,1,0,0,1,1,1H15a1,1,0,0,1,0,2Z"></path>
                                        <path d="M15,9H1A1,1,0,0,1,1,7H15a1,1,0,0,1,0,2Z"></path>
                                        <path d="M15,15H1a1,1,0,0,1,0-2H15a1,1,0,0,1,0,2Z"></path>
                                    </g>
                                </svg>
                                <svg xmlns="http://www.w3.org/2000/svg" class="rvt-global-toggle__close" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M8.46954 7.00409L13.7595 1.71409C13.9234 1.52279 14.009 1.27671 13.9993 1.02504C13.9895 0.773362 13.8852 0.534623 13.7071 0.356528C13.529 0.178434 13.2903 0.0741014 13.0386 0.0643803C12.7869 0.0546591 12.5408 0.140265 12.3495 0.304092L7.05954 5.59409L1.76954 0.294092C1.58124 0.105788 1.32585 -3.72428e-09 1.05954 -1.74018e-09C0.793242 2.43924e-10 0.537847 0.105788 0.349544 0.294092C0.16124 0.482395 0.055452 0.73779 0.055452 1.00409C0.055452 1.27039 0.16124 1.52579 0.349544 1.71409L5.64954 7.00409L0.349544 12.2941C0.244862 12.3837 0.159841 12.4941 0.0998179 12.6181C0.0397946 12.7422 0.00606467 12.8773 0.000745174 13.015C-0.00457432 13.1528 0.0186315 13.2901 0.0689061 13.4184C0.119181 13.5467 0.195439 13.6633 0.292893 13.7607C0.390348 13.8582 0.506896 13.9345 0.635221 13.9847C0.763546 14.035 0.900878 14.0582 1.0386 14.0529C1.17632 14.0476 1.31145 14.0138 1.43551 13.9538C1.55958 13.8938 1.6699 13.8088 1.75954 13.7041L7.05954 8.41409L12.3495 13.7041C12.5408 13.8679 12.7869 13.9535 13.0386 13.9438C13.2903 13.9341 13.529 13.8297 13.7071 13.6517C13.8852 13.4736 13.9895 13.2348 13.9993 12.9831C14.009 12.7315 13.9234 12.4854 13.7595 12.2941L8.46954 7.00409Z" fill="currentColor"></path>
                                </svg>
                            </button>
    
                            <!-- ******************************************************
                                Primary navigation
                            ******************************************************* -->
    
                            <nav aria-label="Main" class="rvt-header-menu" data-rvt-disclosure-target="menu" hidden>
                                <ul class="rvt-header-menu__list">
                                    <li class="rvt-header-menu__item">
                                        <a class="rvt-header-menu__link" href="#0">Nav Item One</a>
                                    </li>
                                    <li class="rvt-header-menu__item">
                                        <a class="rvt-header-menu__link" href="#0">Nav Item Two</a>
                                    </li>
                                    <li class="rvt-header-menu__item rvt-header-menu__item--current">
                                        <div class="rvt-header-menu__dropdown rvt-dropdown" data-rvt-dropdown="primary-nav-3">
                                            <div class="rvt-header-menu__group">
                                                <a class="rvt-header-menu__link" href="#0" aria-current="page">Nav Item Three</a>
                                                <button aria-expanded="false" class="rvt-dropdown__toggle rvt-header-menu__toggle" data-rvt-dropdown-toggle="primary-nav-3">
                                                    <span class="rvt-sr-only">Toggle Sub-navigation</span>
                                                    <svg xmlns="http://www.w3.org/2000/svg" class="rvt-global-toggle__open" height="16" viewBox="0 0 16 16" width="16">
                                                        <path d="M8,12.46a2,2,0,0,1-1.52-.7L1.24,5.65a1,1,0,1,1,1.52-1.3L8,10.46l5.24-6.11a1,1,0,0,1,1.52,1.3L9.52,11.76A2,2,0,0,1,8,12.46Z" fill="currentColor"></path>
                                                    </svg>
                                                </button>
                                            </div>
                                            <div class="rvt-header-menu__submenu rvt-dropdown__menu rvt-dropdown__menu--right" data-rvt-dropdown-menu="primary-nav-3" hidden>
                                                <ul class="rvt-header-menu__submenu-list">
                                                    <li class="rvt-header-menu__submenu-item">
                                                        <a class="rvt-header-menu__submenu-link" href="#0">Sub One</a>
                                                    </li>
                                                    <li class="rvt-header-menu__submenu-item">
                                                        <a class="rvt-header-menu__submenu-link" href="#0">Sub Three</a>
                                                    </li>
                                                    <li class="rvt-header-menu__submenu-item">
                                                        <a class="rvt-header-menu__submenu-link" href="#0">Sub Three</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </li>
                                    <li class="rvt-header-menu__item">
                                        <a class="rvt-header-menu__link" href="#0">Nav Item Four</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <div id="template" class="hidden rvt-row rvt-justify-space-between rvt-p-left-md rvt-p-right-md">
        <div x-data="{open: true}" class="flair-grad_red rvt-border-radius rvt-cols-3-lg rvt-profile__intro rvt-shadow-heavy rvt-m-all-md">
            <div class="rvt-profile__img rvt-avatar rvt-avatar--xl rvt-m-all-xs">
                <img alt="Headshot of Chris Tompkins"
                     class="rvt-avatar__image" 
                     src="https://prevention.iu.edu/experts/photos/melsheimer.jpg"
                     @click="open =! open"
                     >
            </div>
            <div x-show="open" class="rvt-profile__details">
                <span class="rvt-profile__name rvt-strong rvt-ts-20">
                    David Melsheimer
                </span>
                <span class="rvt-m-top-xxs rvt-color-black-500">
                    <em class="rvt-m-top-xs rvt-ts-14">
                        Web Developer
                    </em>
                </span>
            </div>
        </div>
        
    </div>
    <script src="empObjs.js"></script>
    <script>
        function componentFactoryByBruteForce(inputData){
            let div1 = document.createElement('div');
            div1.classList.add("rvt-row", "rvt-justify-space-between", "rvt-p-left-md", "rvt-p-right-md");
            console.log(div1);

            let div2 = document.createElement('div');
            div2.classList.add("flair-grad_red", "rvt-border-radius", 
                               "rvt-cols-3-lg", "rvt-profile__intro", 
                               "rvt-shadow-heavy", "rvt-m-all-md");
            div2.setAttribute('x-data', '{open: true}');

            let div3 = document.createElement('div');
            div3.classList.add("rvt-profile__img", "rvt-avatar", "rvt-avatar--xl", "rvt-m-all-xs");

            let img1 = document.createElement('img');
            img1.classList.add('rvt-avatar__image');
            img1.setAttribute('src', inputData.src);
            // img1.createAttribute('@click');
            // img1.setAttribute('@click', 'open != open');

            //ok, this has to end
            div1.appendChild(div2);
            div2.appendChild(div3);
            div3.appendChild(img1);
            document.body.appendChild(div1);
        }

        function componentFactoryByCopy(name, src, details){
            let clonedTemplate = document.getElementById('template').cloneNode(true);
            clonedTemplate.classList.remove('hidden');
            clonedTemplate.setAttribute('person', name);
            clonedTemplate.removeAttribute('id');
            let nameElement = clonedTemplate.querySelector('.rvt-profile__name');
            nameElement.innerHTML = name;
            let imageSrc = clonedTemplate.querySelector('[src]');
            imageSrc.setAttribute('src', src);
            let detailElement = clonedTemplate.querySelector('.rvt-m-top-xs.rvt-ts-14');
            detailElement.innerHTML = details[1]?details[1]:details[0];
            document.body.appendChild(clonedTemplate);

            clonedTemplate.children[0].addEventListener('click', (event) => {
                console.log(event.target.classList)
                event.target.style.animation = 'move 2s forwards ease-in-out';
            })
        }
        

        (function generateTeam(){
            Object.keys(empObjs).map( member => {
                componentFactoryByCopy(member, empObjs[member].imgSrc, empObjs[member].details);
            });
        })();

        function callFactoryWithSingleEntry(member){
            componentFactoryByCopy(member, empObjs[member].imgSrc, empObjs[member].details);
        }

        const observer = new IntersectionObserver( entries => {
            entries.forEach( entry => {
                entry.target.classList.toggle('show', entry.isIntersecting);
            })
        });

        const people = document.querySelectorAll('[person]');
        people.forEach( person => {
            observer.observe(person);
        })
    </script>
</body>

</html>

<!-- WHEN YOU SIT BACK DOWN, INTEGRATE INTERSECTION OBSERVER  -->